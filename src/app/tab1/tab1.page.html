<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Random Wheel
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Random Wheel</ion-title>
    </ion-toolbar>
  </ion-header>
  <div class="resultDiv">
    <h1 class="resultText">{{resultLabel ? 'Result: '+resultLabel : 'Spin me!'}}</h1>
  </div>
<app-wheel #wheel [segments]=segmentsInput [riggedResult]="riggedResult" (onResult)="showResult($event)"></app-wheel>
<div class="center">
  <ion-button class="applyButton" size="large" color="success" (click) = "startWheel()" [disabled]="velocity > 0"> Spin
    <ion-icon name="play" slot="end"></ion-icon>
  </ion-button>
  <ion-list>
    <ion-item >
      <ion-input readonly type="text" value="Name"></ion-input>
      <ion-input readonly class="colorInput" position="fixed">Color</ion-input>
      <ion-input readonly class="weightInput" position="fixed">Weight</ion-input>
      <ion-input readonly class="weightInput" position="fixed"> </ion-input>
    </ion-item>
    <ion-item *ngFor="let s of segmentsInput; let i=index">
      <ion-input class="labelInput" type="text"   [style]="'background-color: ' + s.color +'30;'"[(ngModel)]="s.label"></ion-input>
      <ion-input class="colorInput" type="color" [(ngModel)]="s.color"></ion-input>
      <ion-input class="weightInput" step="0.5" min="0.5" type="number" [(ngModel)]="s.weight"></ion-input>
      <ion-button color="danger" fill="clear" size="small" (click)="segmentsInput.splice(i,1)" slot="end"><ion-icon name="trash" slot="icon-only"></ion-icon></ion-button>
    </ion-item>
    <ion-item>
      <ion-button size="default" (click) = "segmentsInput.push({label: 'Option '+(segmentsInput.length+1),color: getNiceColor(), weight: 1})"> Add
        <ion-icon name="add" slot="end"></ion-icon>
      </ion-button>
      <ion-button class="applyButton" size="large" color="success" expand="full" (click) = "initWheel()"> Apply
        <ion-icon name="save" slot="end"></ion-icon>
      </ion-button>
      <ion-button slot="end" color="danger" size="default" (click) = "segmentsInput = []"> All
        <ion-icon name="trash" slot="end"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-list>
  </div> 

  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <ion-item style="color: whitesmoke;">
    <ion-label position="fixed">Rigged result (-1): disable</ion-label>
  <ion-input type="number" min="-1" [max]="segmentsInput.length-1" [(ngModel)]="riggedResult"></ion-input>
  </ion-item>
</ion-content>
